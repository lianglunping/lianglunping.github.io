<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>my first</title>
      <link href="/2022/05/12/my-first/"/>
      <url>/2022/05/12/my-first/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>这是一个测试文档</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/04/30/hello-world/"/>
      <url>/2022/04/30/hello-world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>rrBLUP使用</title>
      <link href="/2022/04/26/rrBLUP%E4%BD%BF%E7%94%A8/"/>
      <url>/2022/04/26/rrBLUP%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="A-mat"><a href="#A-mat" class="headerlink" title="A.mat"></a>A.mat</h2><p>函数<code>A.mat</code>从标记估计真实关系矩阵(<code>A</code>)。对于没有缺失数据的$A_1$高密度标记，<code>A.mat</code>使用VanRaden ( 2008 )建议的第一个公式：<br>$$<br>A=\frac{WW’}{2\sum_k{p_kq_k}}<br>$$</p><p>其1中，其中W的等位基因调用以群体均值为中心。Endelman和Jannink ( 2012 )研究表明，该公式具有可取的性质，其平均对角元素为1 + f，其中f为当前种群的近交系数。</p><h3 id="Missing-marker-data"><a href="#Missing-marker-data" class="headerlink" title="Missing marker data"></a>Missing marker data</h3><p>当基因型缺失时，<code>A.mat</code>有两个插补选项。一种是用该标记的总体均值来替换缺失数据，这对于SNP芯片通常遇到的低水平缺失数据是足够的。对于基因分型测序(GBS)标记而言，缺失数据的水平更高。针对这种情况，<code>A.mat</code>可以利用基于多元正态分布( 波兰等国 2012年 )的EM算法估计关系矩阵。</p><p>为了说明EM算法，我在Poland等人( 2012 )<a href="https://www.crops.org/publications/tpg/supplements/5/tpg12-06-0006-dataset-s2.gz">发布的补充文件</a>中下载了GBS数据,下面的R代码读取文件并将标记调用转换为rrBLUP期望的{ -1，0，1 }格式：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">GBS<span class="operator">&lt;-</span>read.csv<span class="punctuation">(</span><span class="string">&quot;tpg12-06-0006-dataset-s2&quot;</span><span class="punctuation">,</span>header<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">,</span>as.is<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span>row.names<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span>  </span><br><span class="line">parse.GBS <span class="operator">&lt;-</span> <span class="keyword">function</span><span class="punctuation">(</span>x<span class="punctuation">)</span> <span class="punctuation">&#123;</span> </span><br><span class="line">    unique.x <span class="operator">&lt;-</span> unique<span class="punctuation">(</span>x<span class="punctuation">)</span> </span><br><span class="line">    alleles <span class="operator">&lt;-</span> setdiff<span class="punctuation">(</span>unique.x<span class="punctuation">,</span>union<span class="punctuation">(</span><span class="string">&quot;H&quot;</span><span class="punctuation">,</span><span class="string">&quot;N&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span> </span><br><span class="line">    y <span class="operator">&lt;-</span> <span class="built_in">rep</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="punctuation">)</span> </span><br><span class="line">    y<span class="punctuation">[</span>which<span class="punctuation">(</span>x<span class="operator">==</span>alleles<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="operator">-</span><span class="number">1</span> </span><br><span class="line">    y<span class="punctuation">[</span>which<span class="punctuation">(</span>x<span class="operator">==</span>alleles<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="number">1</span> </span><br><span class="line">    y<span class="punctuation">[</span>which<span class="punctuation">(</span>x<span class="operator">==</span><span class="string">&quot;N&quot;</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="operator">&lt;-</span> <span class="literal">NA</span> </span><br><span class="line">    <span class="built_in">return</span><span class="punctuation">(</span>y<span class="punctuation">)</span> </span><br><span class="line"><span class="punctuation">&#125;</span> </span><br><span class="line">X <span class="operator">&lt;-</span> apply<span class="punctuation">(</span>GBS<span class="punctuation">[</span><span class="punctuation">,</span><span class="operator">-</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">,</span>parse.GBS<span class="punctuation">)</span></span><br><span class="line"><span class="built_in">dim</span><span class="punctuation">(</span>X<span class="punctuation">)</span>  </span><br><span class="line">frac.missing <span class="operator">&lt;-</span> apply<span class="punctuation">(</span>X<span class="punctuation">,</span><span class="number">2</span><span class="punctuation">,</span><span class="keyword">function</span><span class="punctuation">(</span>z<span class="punctuation">)</span><span class="punctuation">&#123;</span><span class="built_in">length</span><span class="punctuation">(</span>which<span class="punctuation">(</span><span class="built_in">is.na</span><span class="punctuation">(</span>z<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="built_in">length</span><span class="punctuation">(</span>z<span class="punctuation">)</span><span class="punctuation">&#125;</span><span class="punctuation">)</span> </span><br><span class="line"><span class="built_in">length</span><span class="punctuation">(</span>which<span class="punctuation">(</span>frac.missing<span class="operator">&lt;</span><span class="number">0.5</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">hist<span class="punctuation">(</span>frac.missing<span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>缺失数据小于50 %的标记有16K个，这足以估计254个株系的关系矩阵。因为我在一个符合UNIX的多处理器系统上运行这个代码，所以我可以使用12个核心来加速EM算法：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>rrBLUP<span class="punctuation">)</span> </span><br><span class="line">system.time<span class="punctuation">(</span>A1 <span class="operator">&lt;-</span> A.mat<span class="punctuation">(</span>X<span class="punctuation">,</span>impute.method<span class="operator">=</span><span class="string">&quot;EM&quot;</span><span class="punctuation">,</span>n.core<span class="operator">=</span><span class="number">12</span><span class="punctuation">,</span>max.missing<span class="operator">=</span><span class="number">0.5</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>EM算法在执行过程中显示收敛序列，它表示关系系数的均方根误差。默认停止准则为0.02，但这可以随参数‘tol’( 输入 <code>?A.mat</code>获取更多信息 )而改变。在这种情况下，算法在达到0.0151时停止，只需不到一分钟。如果只有1个核心可用，只需省略n . core选项，默认情况下只使用1个核心。</p><p>用均值代替EM算法，语法是<code>system.time(A2 &lt;- A.mat(X,max.missing=0.5))</code>,用均值输入更快，而且在许多情况下，它似乎与EM算法和其他更复杂的GEBV精度方法一样。但是，与EM算法( 波兰等国 2012年 )相比，均值化后的育种值更容易出现偏差。对两个矩阵的平均对角元素的比较表明，在标记调用的杂合度约为1 %的情况下，EM算法的结果更接近期望1+f≈2：</p><h3 id="Shrinkage-estimation-of-A"><a href="#Shrinkage-estimation-of-A" class="headerlink" title="Shrinkage estimation of A"></a>Shrinkage estimation of A</h3><p><code>A.mat</code>的另一个独特之处是收缩估计，可以使用低密度标记，例如384SNP芯片。当行数与标记数相当或超过标记数时，方程1可能不是关系矩阵的最优估计。Endelman和Jannink ( 2012 )提议将估计缩小到( 1 + f ) I，收缩强度选择以最小化均方误差。</p><p>为了说明这一点，我将使用一套599个小麦品系，在BLR软件包(  Pérez等人 2010年 )的1279个DArT标记基因型：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>BLR<span class="punctuation">)</span></span><br><span class="line">data<span class="punctuation">(</span>wheat<span class="punctuation">)</span></span><br><span class="line">M <span class="operator">&lt;-</span> 2<span class="operator">*</span>X<span class="operator">-</span><span class="number">1</span>  <span class="comment">#convert markers to &#123;-1,1&#125;</span></span><br><span class="line"><span class="built_in">dim</span><span class="punctuation">(</span>M<span class="punctuation">)</span></span><br><span class="line">A1 <span class="operator">&lt;-</span> A.mat<span class="punctuation">(</span>M<span class="punctuation">,</span>shrink<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line">A2 <span class="operator">&lt;-</span> A.mat<span class="punctuation">(</span>M<span class="punctuation">[</span><span class="punctuation">,</span>sample<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span><span class="number">1279</span><span class="punctuation">,</span><span class="number">384</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span>shrink<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line">A3 <span class="operator">&lt;-</span> A.mat<span class="punctuation">(</span>M<span class="punctuation">[</span><span class="punctuation">,</span>sample<span class="punctuation">(</span><span class="number">1</span><span class="operator">:</span><span class="number">1279</span><span class="punctuation">,</span><span class="number">192</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span>shrink<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> GS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GS </tag>
            
            <tag> R </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>circos plot-1</title>
      <link href="/2021/11/01/circos-plot-1/"/>
      <url>/2021/11/01/circos-plot-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h1><h2 id="1、文件格式"><a href="#1、文件格式" class="headerlink" title="1、文件格式"></a>1、文件格式</h2><ul><li>KARYOTYPE</li><li>线、散点图、直方图和热图</li><li>tile</li><li>text</li><li>links</li></ul><h4 id="KARYOTYPE——染色体"><a href="#KARYOTYPE——染色体" class="headerlink" title="KARYOTYPE——染色体"></a>KARYOTYPE——染色体</h4><p>以水稻的karyotype文件为例，主要包括：名字、标签、起始和终止位置以及颜色</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line">chr     -       Chr1    Chr1    0       43270923        Chr1</span><br><span class="line">chr     -       Chr2    Chr2    0       35937250        Chr2</span><br><span class="line">chr     -       Chr3    Chr3    0       36413819        Chr3</span><br><span class="line">chr     -       Chr4    Chr4    0       35502694        Chr4</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>可以在 <code>data/karyotype</code> 文件夹下找到常用的参考基因组的 <kbd>karyotype</kbd> 文件</p><h4 id="线、散点图、直方图和热图"><a href="#线、散点图、直方图和热图" class="headerlink" title="线、散点图、直方图和热图"></a>线、散点图、直方图和热图</h4><p>线、散点图、直方图和热图都是2D数据，具体格式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#chrstartendvalue[options]</span><br><span class="line">Chr1    0       100000  0</span><br><span class="line">Chr1    100000  200000  0</span><br><span class="line">Chr1    200000  300000  0</span><br><span class="line">Chr1    300000  400000  0</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="tile"><a href="#tile" class="headerlink" title="tile"></a>tile</h4><p><kbd>tile</kbd> 定义为同一染色体上的区间，用来显示覆盖率相关信息，如 <kbd>reads</kbd>或 <kbd>clones</kbd> 等信息,具体格式如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#chr start end [options]</span></span><br><span class="line">Chr 0 100000 </span><br></pre></td></tr></table></figure><h4 id="text"><a href="#text" class="headerlink" title="text"></a>text</h4><p>与基因组位置相关的文本信息，如文本标签</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#chr start end label [options]</span></span><br><span class="line">hs5 50 75 ABC</span><br></pre></td></tr></table></figure><p>如果你要显示多个词，可以用 <code>tab</code> 作为分隔符</p><h4 id="links"><a href="#links" class="headerlink" title="links"></a>links</h4><p>同一染色体或不同染色体不同区域之间的关系，可以绘制成线条或丝带的形状</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># chr1 start1 end1 chr2 start2 end2 [options]</span><br><span class="line">hs1 200 300 hs10 1100 1300</span><br><span class="line">hs7 50 150 hs 5000 6000 color=blue</span><br></pre></td></tr></table></figure><p><code>binlinks</code>, <code>bundlelinks</code> 和 <code>filterlinks</code> 工具 可以用于操作和分析 <code>link</code> 文件.</p><h2 id="2、options选项"><a href="#2、options选项" class="headerlink" title="2、options选项"></a>2、options选项</h2><p>在<code>&lt;plot&gt;</code>, <code>&lt;link&gt;</code>,或 <code>&lt;highlight&gt;</code>块中定义的特定数据点的任何格式化选项，如形状、大小、颜色等，都通过输入文件来定义</p><p>在上面展示的例子中的 <code>[options]</code> 字符可以通过以逗号分隔的键值对的字符串来设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr start end var1=value1,var2=value2,...</span><br></pre></td></tr></table></figure><p>而对于解析为列表值，如 <code>RGB</code> 值，需要用 <code>()</code>、<code>[]</code> 来分隔</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr start end color=(R,G,B)</span><br></pre></td></tr></table></figure><h5 id="有无数据值时的-options"><a href="#有无数据值时的-options" class="headerlink" title="有无数据值时的 options"></a>有无数据值时的 options</h5><p>输入文件中有与基因组位置相关的值时，<code>options</code> 域在第 <code>5</code> 列</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr start end value options</span><br></pre></td></tr></table></figure><p>如果没有值，<code>options</code> 域在第 <code>4</code> 列</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr start end options</span><br></pre></td></tr></table></figure><h2 id="3、文件分隔符"><a href="#3、文件分隔符" class="headerlink" title="3、文件分隔符"></a>3、文件分隔符</h2><p>默认情况下是以空白符作为分隔符，想要更改分隔符,可以在配置文件中定义 <code>file_delim</code> 参数</p><p>最好是将参数放在 <code>etc/housekeeping.conf</code> 文件中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># etc/housekeeping.conf</span><br><span class="line">file_delim = \t</span><br></pre></td></tr></table></figure><p>如果想要设置多词文本标签，需要设置分隔符为 <code>tab</code>，将会应用于所有输入文件（数据文件和核型文件 <code>karyotype</code>）</p><h2 id="4、文件位置"><a href="#4、文件位置" class="headerlink" title="4、文件位置"></a>4、文件位置</h2><p>如果指定特定文件的绝对路径，<code>circos</code> 将不会去其他地方寻找文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file = /path/to/file.txt</span><br></pre></td></tr></table></figure><p>如果文件 <code>/path/to/file.txt</code> 不存在，将会引发错误</p><p>如果使用相对路径</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file = data/file.txt</span><br></pre></td></tr></table></figure><p><code>circos</code> 将会试图以下面的顺序在多个目录中查找</p><ul><li>在 <code>data_path</code> 下的所有目录</li><li><code>CWD/</code></li><li><code>CWD/etc</code></li><li><code>CWD/data</code></li><li><code>CWD/../</code></li><li><code>CWD/../etc</code></li><li><code>CWD/../data</code></li><li><code>CWD/../..</code></li><li><code>CWD/../../etc</code></li><li><code>CWD/../../data</code></li></ul><p><code>CWD</code> 为当前目录，推荐使用相对路径的方式，这样的可移植性较好</p><p>建议你将数据文件放置一个单独的文件夹中 <code>(e.g. data/)</code>，与配置文件区分开</p><hr><p>本文参考了生信学习手册的内容，在此表示感谢，以下是原文链接<a href="https://mp.weixin.qq.com/s/Bj2bJKDevNMX3MbMO5TYPw">circos 学习手册</a></p>]]></content>
      
      
      <categories>
          
          <category> circos </category>
          
      </categories>
      
      
        <tags>
            
            <tag> circos </tag>
            
            <tag> rice </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>circos 圈图</title>
      <link href="/2021/10/20/circos-%E5%9C%88%E5%9B%BE/"/>
      <url>/2021/10/20/circos-%E5%9C%88%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>建议在Linux环境下配置Circos，之后只要用conda就能配置好分析环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line"><span class="comment">## circos</span></span><br><span class="line">conda create -c bioconda -n circos circos</span><br></pre></td></tr></table></figure><p>测试软件安装结果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试circos</span></span><br><span class="line">conda activate circos</span><br><span class="line"><span class="comment"># 确认安装</span></span><br><span class="line">circos -V</span><br><span class="line"><span class="comment"># 显示如下</span></span><br><span class="line"><span class="comment"># circos | v 0.69-8 | 15 Jun 2019 | Perl 5.026002</span></span><br></pre></td></tr></table></figure><p>可以从<a href="http://circos.ca/software/download/%E4%B8%8B%E8%BD%BD%E5%AE%98%E6%96%B9%E7%9A%84%E6%95%99%E7%A8%8B%E6%96%87%E4%BB%B6%EF%BC%8C%E5%88%86%E5%88%AB%E6%98%AF">http://circos.ca/software/download/下载官方的教程文件，分别是</a></p><ul><li><a href="http://circos.ca/distribution/circos-course-2017.tgz">circos-course-2017.tgz</a></li><li><a href="http://circos.ca/distribution/circos-tutorials-current.tgz">circos-tutorials-current.tgz</a></li></ul><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><p>第一步，先新建一个文件夹，用于存放本次分析的所有数据和配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p my_first_circos &amp;&amp; <span class="built_in">cd</span> my_first_circos</span><br></pre></td></tr></table></figure><p>然后用<code>vim karyotype.tair10.txt</code>编辑文本，新增如下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chr - chr1 chr1 0 30427617 black</span><br><span class="line">chr - chr2 chr2 0 19698289 black</span><br><span class="line">chr - chr3 chr3 0 23459830 black</span><br><span class="line">chr - chr4 chr4 0 18585056 black</span><br><span class="line">chr - chr5 chr5 0 26975502 black</span><br></pre></td></tr></table></figure><p>之后创建一个<code>circos.conf</code>文件，用于增加各类配置参数</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> circos.conf</span><br></pre></td></tr></table></figure><p>用<code>vim circos.conf</code>，增加我们的第一条记录，染色体信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">karyotype = karyotype.tair10.txt</span><br></pre></td></tr></table></figure><p>然而要想真正的出图，还需要增加至少以下配置语句才行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;ideogram&gt;</span><br><span class="line">&lt;spacing&gt;</span><br><span class="line">default = 0.005r</span><br><span class="line">&lt;/spacing&gt;</span><br><span class="line">radius           = 0.90r</span><br><span class="line">thickness        = 20p</span><br><span class="line">fill             = <span class="built_in">yes</span></span><br><span class="line">stroke_color     = dgrey</span><br><span class="line">stroke_thickness = 2p</span><br><span class="line">&lt;/ideogram&gt;</span><br><span class="line"></span><br><span class="line">&lt;image&gt;</span><br><span class="line">&lt;&lt;<span class="string">include etc/image.conf&gt;&gt;</span></span><br><span class="line"><span class="string">&lt;/image&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;&lt;include</span> etc/colors_fonts_patterns.conf&gt;&gt;</span><br><span class="line">&lt;&lt;<span class="string">include etc/housekeeping.conf&gt;&gt;</span></span><br></pre></td></tr></table></figure><p>在当前路径下运行<code>circos -conf circos.conf</code>, 最终效果图如下</p><p>虽然图比较丑，但是至少我们成功运行了人生第一次的circos, 这就相当于买了一套毛坯房，后面要做的事情就是不断装修。</p><p>比如说，我们至少可以让不同染色体拥有不同的颜色，修改之前的<code>karyotype.tair10.txt</code>中的最后一列</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chr - chr1 chr1 0 30427617 chr1</span><br><span class="line">chr - chr2 chr2 0 19698289 chr2</span><br><span class="line">chr - chr3 chr3 0 23459830 chr3</span><br><span class="line">chr - chr4 chr4 0 18585056 chr4</span><br><span class="line">chr - chr5 chr5 0 26975502 chr5</span><br></pre></td></tr></table></figure><p>在当前路径下运行<code>circos -conf circos.conf</code>, 最终效果图如下</p><p>这就引出了第一个知识点，<strong>配色</strong>。</p><p>为了实现配色，需要<code>circos.conf</code>文件了有一个和配色有关的语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;<span class="string">include etc/colors_fonts_patterns.conf&gt;&gt;</span></span><br></pre></td></tr></table></figure><p>这里<code>&lt;&lt;&gt;&gt;</code>表示通过<strong>相对路径</strong>的方式加载另外一个配置文件，它的实际路径是和<code>circos</code>所在目录同级的<code>etc</code>,可用下面语句看到<code>colors_fonts_patterns.conf</code>的内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">circos_path=$(<span class="built_in">dirname</span> `<span class="built_in">which</span> circos`)</span><br><span class="line">less <span class="variable">$&#123;circos_path%bin&#125;</span>/etc/colors_fonts_patterns.conf</span><br></pre></td></tr></table></figure><p>你会发现，这个文件里还嵌套其他的配置文件。最终通过层层排查，你才知道<code>etc/colors.ucsc.conf</code>才是实际定义我们填写的颜色名的文件，而颜色的定义如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chr1  = 153,102,0</span><br><span class="line">chr2  = 102,102,0</span><br><span class="line">chr3  = 153,153,30</span><br><span class="line">chr4  = 204,0,0</span><br><span class="line">chr5  = 255,0,0</span><br></pre></td></tr></table></figure><p>还有一个问题，为什么这里用的是两个尖括号<code>&lt;&lt;</code>，而不是一个尖括号<code>&lt;</code>呢？这是因为<code>&lt;</code>已经被用于分隔不同的语句块，如下语句就表示<code>etc/image.conf</code>里的配置信息是用来调整和<code>image</code>有关的配置，而不是去调整<code>ideogram</code>的配置。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;image&gt;</span><br><span class="line">&lt;&lt;<span class="string">include etc/image.conf&gt;&gt;</span></span><br><span class="line"><span class="string">&lt;/image&gt;</span></span><br></pre></td></tr></table></figure><hr><p>以上是快速开始部分，后续将会在此基础上，做出发表级别的图。</p>]]></content>
      
      
      <categories>
          
          <category> 绘图 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> circos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>遗传分析中常见群体</title>
      <link href="/2021/10/18/%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%BE%A4%E4%BD%93/"/>
      <url>/2021/10/18/%E9%81%97%E4%BC%A0%E5%88%86%E6%9E%90%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%BE%A4%E4%BD%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="遗传分析中常见群体"><a href="#遗传分析中常见群体" class="headerlink" title="遗传分析中常见群体"></a>遗传分析中常见群体</h1><p>群体是具有一些共同特征个体的集合。遗传学研究中提出的遗传交配设计有很多，根据情报的数量大致可以划分为双亲群体、多亲群体等。</p><blockquote><p>本文引用自<a href="http://blog.sciencenet.cn/home.php?mod=space&uid=1094241&do=blog&id=1093008">科学网—扒一扒遗传分析中群体那些事儿 - 马省伟的博文 (sciencenet.cn)</a></p></blockquote><h3 id="双亲群体"><a href="#双亲群体" class="headerlink" title="双亲群体"></a>双亲群体</h3><p>双亲衍生群体是自孟德尔杂交实验重新发现以来，植物遗传研究中使用最为广泛的群体类型。双亲杂交设计一般从两个具有明显表型差异的纯和基因型亲本（分别用$P_1$和$P_2$）开始，在$P_1$和$P_2$间杂交产生$F_1$代，并由此衍生出了常见的以下群体</p><ul><li>杂种$F_2$群体及$F_{2:3}$：由杂种$F_1$自交产生，共显性标记（codominant marker）在群体内的分离比为1:2:1，显性标记（dominant marker）则为3:1</li><li>$BC$群体：杂种$F_1$代与亲本回交获得</li><li>$RIL$群体（重组自交系）：将F2群体不同个体连续自交或同胞交配，使家系内个体基因型趋于纯合，属于永久性定位群体；RIL群体的分离比率为1:1；单粒传法是常见的RIL群体创制方法，但需要多年多世代的工作。</li><li>$NIL$群体（近等基因系群体）：群体内不同个体的染色体绝大部分区间完全相同，只有少数几个或一个区间彼此存在差异；NIL群体可以将多个QTL位点分解成单个孟德尔遗传因子，将数量性状转化为质量形状，从而可以对主效QTL进行精细定位和图位克隆。</li><li>$DH$群体：DH群体是配子基因型经染色体加倍形成的，不同个体基因型稳定，属于永久作图群体。该群体标记的分离比是1:1；该类型的群体不仅可以对质量性状进行定位，也可以对数量性状进行多年多点的重复实验，是研究基因型和环境互作的理想材料。</li></ul><h3 id="多亲群体"><a href="#多亲群体" class="headerlink" title="多亲群体"></a>多亲群体</h3><p>顾名思义，多亲群体指的就是利用多亲本开展遗传交配设计，创建遗传群体并进行遗传研究，常见的有<strong>巢式关联作图群体</strong>（NAM，nested association mapping）和<strong>多亲本高代互交群体</strong>（MAGIC，multiparent advanced generation inter-crossing）。</p><ul><li><p>$NAM$群体：其实就是不同的亲本材料分别与同一材料（CP, commonparent）做杂交，再在杂交后代内部分别进行连续自交（单粒传法）或同胞交配以创制不同的一系列重组自交系（RIL）。这些重组自交系均含有一个相同亲本（CP），不同的重组自交系都是基于两个亲本所创制的。NAM群体结合了双亲群体和自然群体（natural population）的优点，可以用来做关联-连锁不平衡分析（joint linkage–linkage disequilibrium mapping）。第一个NAM群体是利用玉米自交系B73作为共有亲本分别与25份不同自交系杂交和自交而创建的，一共包括25个RIL群体和大约5000个株系。该群体已经被成功用于玉米开花时间或者抗叶枯病等方面的研究。</p></li><li><p><kbd>MAGIC</kbd>群体:由多个双亲进行两两进行杂交，来自于两个亲本的杂交$F_1$代再分别两两杂交产生双交（double hybrids）后代，两个双交后代$F_1$再进一步杂交，这样产生的后代就分别来自与8个不同的亲本。这个杂交过程可以持续进行，以尽可能包含更多的亲本材料。最后这些复合杂交的后代经过自交或染色体加倍而形成一系列RIL群体或DH群体。MAGIC群体最早是在拟南芥（<em>Arabidopsis thaliana</em>）中创制的，大约来自于19个不同拟南芥材料相互交配的后代，一共包含527个重组自交系，该群体被用来进行拟南芥QTL性状的精细定位。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 遗传 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>how to start GO &amp; KEGG by clusterProfiler</title>
      <link href="/2021/10/09/how-to-start-GO-KEGG-by-clusterProfiler/"/>
      <url>/2021/10/09/how-to-start-GO-KEGG-by-clusterProfiler/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="1、GO分析"><a href="#1、GO分析" class="headerlink" title="1、GO分析"></a>1、GO分析</h3><h3 id="2、KEGG分析"><a href="#2、KEGG分析" class="headerlink" title="2、KEGG分析"></a>2、KEGG分析</h3><blockquote><p>Y叔的clusterProfiler可能是目前KEGG富集分析最好的软件，因为能爬取最新的KEGG在线版数据库，而不是用不再更新的KEGG.db。</p></blockquote><h4 id="enrichKEGG-函数介绍："><a href="#enrichKEGG-函数介绍：" class="headerlink" title="enrichKEGG 函数介绍："></a>enrichKEGG 函数介绍：</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">enrichKEGG<span class="punctuation">(</span>gene<span class="punctuation">,</span> organism <span class="operator">=</span> <span class="string">&quot;hsa&quot;</span><span class="punctuation">,</span> keyType <span class="operator">=</span> <span class="string">&quot;kegg&quot;</span><span class="punctuation">,</span> pvalueCutoff <span class="operator">=</span> <span class="number">0.05</span><span class="punctuation">,</span>  </span><br><span class="line">        pAdjustMethod <span class="operator">=</span> <span class="string">&quot;BH&quot;</span><span class="punctuation">,</span> universe<span class="punctuation">,</span> minGSSize <span class="operator">=</span> <span class="number">10</span><span class="punctuation">,</span> maxGSSize <span class="operator">=</span> <span class="number">500</span><span class="punctuation">,</span>  </span><br><span class="line">        qvalueCutoff <span class="operator">=</span> <span class="number">0.2</span><span class="punctuation">,</span> use_internal_data <span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># gene：基因名，需与keyType对应</span></span><br><span class="line"><span class="comment"># organism：从http://www.genome.jp/kegg/catalog/org_list.html获取</span></span><br><span class="line"><span class="comment"># keyType:基因命名方式，包括：kegg、ncbi-geneid、ncbi-proteinid 和uniprot</span></span><br></pre></td></tr></table></figure><h4 id="分析思路"><a href="#分析思路" class="headerlink" title="分析思路"></a>分析思路</h4><h5 id="organism"><a href="#organism" class="headerlink" title="organism"></a>organism</h5><p>首先确定自己要研究的物种，在这里我们研究对象是水稻。所以打开<a href="https://www.genome.jp/kegg/catalog/org_list.html">KEGG Organisms: Complete Genomes</a>，搜索Oryza sativa </p><p><img src="image-20211009163706228.png"></p><p>上图左边的osa和dosa就是要填到organism里的参数，选择其中一个就行，这里推荐<kbd>dosa</kbd></p><h5 id="keyTypes"><a href="#keyTypes" class="headerlink" title="keyTypes"></a>keyTypes</h5><p>可以把enrichKEGG当作浏览器，试出合适的keytypes。</p><p><img src="image-20211009215233046.png"></p><p>因此，我们需要提供的keyType是<code>kegg</code>，基因名应该类似于<code>Os06t0664200-01</code>.</p><blockquote><p>按照同样的套路，对于<code>osa</code>的kegg命名方式应该<code>3131385</code>能够用于在NCBI上查找的gene ID。</p></blockquote><h5 id="基因ID转换"><a href="#基因ID转换" class="headerlink" title="基因ID转换"></a>基因ID转换</h5><p>通常情况下，我们获取的基因ID往往是<kbd>LOC_Os01g24710</kbd>或<kbd>Os01g0348900<br></kbd>的形式，那么应该怎么转换为<kbd>Os01g0348900-01</kbd>呢？<br>首先去相关数据库<a href="https://shigen.nig.ac.jp/rice/oryzabase/">https://shigen.nig.ac.jp/rice/oryzabase/</a> 下载id文件，通过一行命令完成转换</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> salt.txt | xargs -i awk <span class="string">&#x27;BEGIN&#123;FS=&quot;\t&quot;&#125;  $0 ~/&#123;&#125;/ &#123; print $2&#125;&#x27;</span> rice_id_20140620174522.txt &gt; RAP_id.txt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> GO </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GO </tag>
            
            <tag> KEGG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件按列合并及调整列的顺序</title>
      <link href="/2021/08/17/%E6%96%87%E4%BB%B6%E6%8C%89%E5%88%97%E5%90%88%E5%B9%B6%E5%8F%8A%E8%B0%83%E6%95%B4%E5%88%97%E7%9A%84%E9%A1%BA%E5%BA%8F/"/>
      <url>/2021/08/17/%E6%96%87%E4%BB%B6%E6%8C%89%E5%88%97%E5%90%88%E5%B9%B6%E5%8F%8A%E8%B0%83%E6%95%B4%E5%88%97%E7%9A%84%E9%A1%BA%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="按列合并文件"><a href="#按列合并文件" class="headerlink" title="按列合并文件"></a>按列合并文件</h3><p>paste</p><blockquote><p>语法： paste file1 file2</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file1.txt</span></span><br><span class="line"></span><br><span class="line">a   1</span><br><span class="line">b   1</span><br><span class="line">c   3</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file2.txt</span></span><br><span class="line"></span><br><span class="line">a   4</span><br><span class="line">b   5</span><br><span class="line">c   6</span><br></pre></td></tr></table></figure><p>合并：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">paste</span> file1 file2 &gt; file3.txt</span></span><br><span class="line">cat file3.txt</span><br><span class="line">a   1   a   4</span><br><span class="line">b   1   b   5</span><br><span class="line">c   3   c   6</span><br></pre></td></tr></table></figure><p>默认的分割符是制表符，也可以指定其他分隔符</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">paste  -d &#x27;_&#x27; file1.txt file2.txt</span><br><span class="line">a   1_a   4</span><br><span class="line">b   1_b   5</span><br><span class="line">c   3_c   6</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="调整列的顺序"><a href="#调整列的顺序" class="headerlink" title="调整列的顺序"></a>调整列的顺序</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27; &#123; t = $1; $1 = $2; $2 = t; print; &#125; &#x27; input_file</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="去除-M"><a href="#去除-M" class="headerlink" title="去除^M"></a>去除^M</h3><p>首先查看文件有没有<kbd>^M</kbd>,<code>cat -v filename</code>,如果有可以采用以下几种方式</p><ul><li><p>dos_2unix</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dos2unix /fileth/name</span><br></pre></td></tr></table></figure></li><li><p>sed</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sed --in-place=&#x27;&#x27; &#x27;s./^M//g&#x27; /path/to/file</span><br></pre></td></tr></table></figure></li></ul><h3 id="修改文件的间隔符"><a href="#修改文件的间隔符" class="headerlink" title="修改文件的间隔符"></a>修改文件的间隔符</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat sampleID.txt|tr &quot;\t&quot; &quot;,&quot; &gt; sampleID_form.txt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> awk paste </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客的编辑</title>
      <link href="/2021/08/17/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BC%96%E8%BE%91/"/>
      <url>/2021/08/17/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BC%96%E8%BE%91/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="博客的创建"><a href="#博客的创建" class="headerlink" title="博客的创建"></a>博客的创建</h2><blockquote><p>hexo 语法</p></blockquote><p>创建文章前要先选定模板，在hexo中也叫做布局。hexo支持三种布局（layout）：post(默认)、draft、page。<br>首先进入博客的主目录,执行以下命令<code>hexo n &quot;my first blog&quot;</code>,会默认使用post布局，然后自动在source_posts目录生成一个my first blog.md文件：</p><p>当然此时可以指定布局: <code>hexo n [layout_name] draft1</code>,此时你就在创建你的一篇草稿.<br>如果此时你想要插入图片,可以使用如下的语法<code>![](image.jpg)</code></p><p><img src="%E6%8A%AC%E5%A4%B4.png"></p><p>如果插入视频,</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=39807850&cid=69927212&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><p>当编辑完成之后，就可以把文章推送到_posts目录下：<code>hexo publish &lt;file_name&gt;</code></p><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><ul><li><strong>清除缓存：</strong><code>hexo clean</code></li><li><strong>生成静态文件：</strong><code>hexo generate</code>可简写为 <code>hexo g</code></li><li><strong>启动服务器：</strong><code>hexo server</code>或者 <code>hexo s</code> 常用参数：<code>-p（--port）</code>重设端口</li><li><strong>部署：</strong><code>hexo deploy</code>可简写为<code>hexo d</code>，用于将网站部署到服务器上。（暂时用不到，目前都是在本地，后面我们将博客托管到<code>GitHub Pages</code>或<code>Gitee Pages</code>时才会用到此命令）<br>常用参数：<code>-g（--generate）</code>，<code>hexo d -g</code>部署前预先生成静态文件，等同于 <code>hexo g -d</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> 博客搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 入门 </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
